<div class="panel panel-primary">
    <div class="panel-heading">
        <h2><i class="ti ti-save-alt"></i> {{ form_name }}</h2>
    </div>
    <div class="panel-body">
        <ul id="basicwizard-header" class="stepy-header">
            <li id="basicwizard-head-0"  class="stepy-active" style="cursor: default;">
                <a href="#">
                    <div>{{ 'form.firstStep'|trans }}</div>
                    <span>{{ 'detail.new.name'|trans }}</span>
                </a>
            </li>
            <li id="basicwizard-head-1"  style="cursor: default;">
                <a href="#">
                    <div>{{ 'form.secondStep'|trans }}</div>
                    <span>{{ form_name }}</span>
                </a>
            </li>
        </ul>
        <div id="step2" class="col-md-12" style="visibility: hidden;display: none;">
            <div class="col-md-12">
                <legend>
                    <h4>
                        <i class="ti ti-layout-list-thumb-alt"></i>
                         {{ 'detail.list.name'|trans }}
                        <div class="pull-right">
                            <a class="btn btn-info-alt" href="">
                                <i class="fa fa-refresh"></i>
                            </a>
                        
                        </div>
                    </h4>
                    
                </legend>
                <div class="tab-container tab-primary">
                    <ul class="nav nav-tabs"><li class="dropdown pull-right tabdrop hide"><a class="dropdown-toggle" data-toggle="dropdown" href="#"><i class="fa fa-angle-down"></i> </a><ul class="dropdown-menu"></ul></li>
                        <li class="active"><a href="#durable" data-toggle="tab" aria-expanded="true"><i class="ti ti-link"></i> {{ 'menu.dropDownArticle.durable'|trans }}</a></li>
                        <li class="pull-right"><a href="#consumable" data-toggle="tab" aria-expanded="false"><i class="ti ti-unlink"></i> {{ 'menu.dropDownArticle.consumable'|trans }}</a></li>
                    </ul>
                    <div class="tab-content">
                        
                        <div class="tab-pane active" id="durable">
                            <table class="table table-striped table-bordered DataTable" cellspacing="0" width="100%">
                                <thead>
                                    <tr>
                                        <th class="text text-primary">{{ 'magazine.field.inventoryNumber'|trans }}</th>
                                        <th class="text text-primary">{{ 'magazine.field.designation'|trans }}</th>
                                        <th class="text text-primary">{{ 'magazine.field.quantity'|trans }}</th>
                                        <th class="text text-primary">{{ 'magazine.field.quantityReturned'|trans }}</th>
                                        <th class="text text-primary">{{ 'magazine.field.unit'|trans }}</th>
                                        <th class="text text-primary">{{ 'magazine.action'|trans }}</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    {% for detail in discharge.durable|sort %}
                                        
                                            <tr id="{{ detail.supportingDocument.id }}">

                                                <td>
                                                    {% set table = detail.supportingDocument.inventoryNumber|split(',') %}
                                                    {% for val in table %}
                                                        <i class="fa fa-long-arrow-right" aria-hidden="true"></i>
                                                        {{ val }}
                                                        
                                                    {% endfor %}
                                                </td>
                                                <td>{{ detail.supportingDocument.article.designation }}</td>
                                                <td>{{ detail.quantity }}</td>
                                                <td>{{ detail.qteReturned }}</td>
                                                <td>{{ detail.supportingDocument.article.unit.designation }}</td>
                                                
                                                <td>
                                                    {% if detail.qteReturned - detail.quantity == 0 %}
                                                        <button value="{{ detail.supportingDocument.id }}" class="btn btn-success-alt" disabled="">
                                                        <i class="fa fa-thumbs-up" aria-hidden="true"></i></button>
                                                    {% else %}
                                                        <button data-qte="{{detail.quantity }}" data-article ="{{detail.supportingDocument.article.designation }}" data-supportingDocument="{{detail.supportingDocument.inventoryNumber}}" value="{{ detail.supportingDocument.id }}" class="btn btn-info-alt return"><i class="ti ti-pencil"></i></button>
                                                    {% endif %}
                                                </td>
                                            </tr>
                                        
                                    {% endfor %}
                                    
                                </tbody>
                            </table>
                        </div>
                    <div class="tab-pane" id="consumable">
                        <table class="table table-striped table-bordered DataTable" cellspacing="0" width="100%">
                            <thead>
                                <tr>
                                    <th class="text text-primary">{{ 'magazine.field.inventoryNumber'|trans }}</th>
                                    <th class="text text-primary">{{ 'magazine.field.designation'|trans }}</th>
                                    <th class="text text-primary">{{ 'magazine.field.quantity'|trans }}</th>
                                    <th class="text text-primary">{{ 'magazine.field.quantityReturned'|trans }}</th>
                                    <th class="text text-primary">{{ 'magazine.field.unit'|trans }}</th>
                                    <th class="text text-primary">{{ 'magazine.action'|trans }}</th>
                                </tr>
                            </thead>
                            <tbody>
                                {% for detail in discharge.consumable %}
                                    
                                        <tr id="{{ detail.supportingDocument.id }}">
                                            <td>{{ detail.supportingDocument.inventoryNumber }}</td>
                                            <td>{{ detail.supportingDocument.article.designation }}</td>
                                            <td>{{ detail.quantity }}</td>
                                            <td>{{ detail.qteReturned }}</td>
                                            <td>{{ detail.supportingDocument.article.unit.designation }}</td>
                                            <td>
                                                {% if (detail.qteReturned - detail.quantity) == 0 %}
                                                    <button value="{{ detail.supportingDocument.id }}" class="btn btn-success-alt" disabled="">
                                                    <i class="fa fa-thumbs-up" aria-hidden="true"></i></button>
                                                {% else %}
                                                    <button data-qte="{{detail.quantity }}" data-article ="{{detail.supportingDocument.article.designation }}" data-supportingDocument="{{detail.supportingDocument.inventoryNumber}}" value="{{ detail.supportingDocument.id }}" class="btn btn-info-alt returnAndEdit"><i class="ti ti-pencil"></i></button>
                                                {% endif %}
                                                
                                            </td>
                                        </tr>
                                {% endfor %}
                                
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            </div>
            <div id="formPlace" class="col-md-6">
                
                    <div id="annimation" style="padding-top: 100%;margin-bottom: -20%;">
                        
                    
                        <div class='Cube panelLoad'>
                          <div class='cube-face cube-face-front'><i class="ti ti-home"></i></div>
                          <div class='cube-face cube-face-back'><i class="ti ti-search"></i></div>
                          <div class='cube-face cube-face-left'><i class="ti ti-archive"></i></div>
                          <div class='cube-face cube-face-right'><i class="ti ti-agenda"></i></div>  
                          <div class='cube-face cube-face-bottom'><i class="fa fa-building-o"></i></div>
                          <div class='cube-face cube-face-top'><i class="ti ti-truck"></i></div>
                        </div>
                    </div>
                    <div  id="detailForm">
                        <legend><h4><i class="ti ti-marker"></i> {{ 'detail.new.name'|trans }}</h4></legend>
                    <form class="form-horizontal row-border" role="form">
                        <div class="form-group has-success">
                            <div class="col-sm-10 col-sm-offset-1">                        
                                <input class="form-control" readonly="true" type="text" id="articleDesignation" placeholder="{{ 'magazine.field.article'|trans }}" >
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="col-sm-10 col-sm-offset-1">
                                <select style= "width:100% !important" class ="form-control populate" id="article">
                                </select>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="col-sm-6">
                                <div class="input-group">                           
                                    <span class="input-group-addon text-capitalize">
                                        <i id="load" class="ti ti-truck"></i>
                                    </span>
                                        <input class="form-control" type="number" id="return_quantity" placeholder="{{ 'magazine.field.quantity'|trans }}">
                                </div>
                            </div>
                            <div class="col-sm-6">
                                <div class="input-group has-success">                           
                                    <span class="input-group-addon text-capitalize">
                                        <i id="load" class="ti ti-archive"></i>
                                    </span>
                                        <input class="form-control"  readonly="true" type="number" id="quantity" placeholder="{{ 'magazine.field.quantity'|trans }}">
        
                                </div>
                            </div>
                            
                            
                        </div>
                        
                    </form>
                    <div class="pull-right" style="margin-top: 5%;">
                        <button id="new" class="btn btn-primary">
                        <i class="fa fa-plus"></i>
                        {{ 'detail.new.submit'|trans }}
                        </button>
                        <button id="newDurable" class="btn btn-primary">
                        <i class="fa fa-plus"></i>
                        {{ 'detail.new.submit'|trans }}
                        </button>
                        <button id="edit" class="btn btn-primary">
                        <i class="ti ti-pencil-alt"></i>
                        {{ 'detail.edit.submit'|trans }}
                        </button>
                        <button id="annuler" class="btn btn-danger">
                            <i class="ti ti-back-right"></i>
                            {{ 'detail.edit.annuler'|trans }}
                        </button>
                    </div>
                </div>
            </div>
            <div class="col-md-6" style="border-left: 1px solid black;">
                <legend><h4><i class="ti ti-view-list-alt"></i> {{ 'detail.list.name'|trans }}</h4></legend>
                <div class="btn-group">
                        <a class="btn btn-primary active toggle-vis" data-column="0" style="margin-bottom: 2%;"> {{ 'magazine.field.inventoryNumber'|trans }}
                        </a>
                        <a style="margin-bottom: 2%;" class="btn btn-primary toggle-vis" data-column="1" name="options" id="designation"> {{ 'magazine.field.designation'|trans }}
                        </a>
                        <a style="margin-bottom: 2%;" class="btn btn-primary toggle-vis" data-column="2"> {{ 'magazine.field.quantity'|trans }}
                        </a>
                        <a style="margin-bottom: 2%;" class="btn btn-primary active  toggle-vis" data-column="3"> {{ 'magazine.field.family'|trans }}
                        </a>
                        <a style="margin-bottom: 2%;" class="btn btn-primary active toggle-vis" data-column="4"> {{ 'magazine.field.subFamily'|trans }}
                        </a>
                        
                    </div> 
                    <hr>
                <table id="example" class="table table-striped table-bordered" cellspacing="0" width="100%">
                    <thead>
                        <tr>
                            <th>{{ 'magazine.field.inventoryNumber'|trans }}</th>
                            <th>{{ 'magazine.field.designation'|trans }}</th>
                            <th>{{ 'magazine.field.quantity'|trans }}</th>
                            <th>{{ 'magazine.field.family'|trans }}</th>
                            <th>{{ 'magazine.field.subFamily'|trans }}</th>
                            <th>{{ 'magazine.action'|trans }}</th>
                        </tr>
                    </thead>
                    <tbody id="list">
                        
                    </tbody>
                </table>
                <div id="dialog"></div>
            </div>
        </div>
        <div id="step1" class="col-md-12" >
            <legend>
                <h4>
                    <i class="ti ti-save-alt"></i>
                     {{ form_name }}
                 </h4>
             </legend> 
            {{ form_start(form ,{'attr' : { 'class' : 'form-horizontal row-border' , 'id' : 'form' } }) }} 
            {{ form_widget(form) }}
            {{ form_end(form) }}
        </div>
    </div>
    <div class="panel-footer">
        <div class="pull-right">
            <button class="btn btn-primary" id="next" >
                <i class="ti ti-arrow-right"></i>
            </button>
            <button class="btn btn-primary" id="prev" >
                <i class="ti ti-arrow-left"></i>
            </button>
            
            <button class="btn btn-primary " id="submit">
                <i class="ti ti-save-alt"></i>
                {{ submit_name }}
            </button>
            
        </div>
    </div>
</div>